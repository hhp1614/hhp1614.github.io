import{r as h,j as S,l as $,x as v,A as o,u as s,B as K,z as u,E as b,M as A,b as T,N as B,D as I,T as N,F as L,v as w,G as R,H as V,I as C}from"./@vue-c550c1ff.js";import{_ as q}from"./Footer.vuevuetypescriptsetuptruelang-13e05893.js";import{u as D,r as F}from"./index-1af7533d.js";import{u as H}from"./useAutofocus-426b52e8.js";import"./pinia-afa05e0c.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-e0d5d833.js";const M=""+new URL("../avatar.svg",import.meta.url).href;function U(){const l=h({name:"google",text:"谷歌",href:"https://www.google.com/search?q="}),r=h([{name:"google",text:"谷歌",tip:"Alt+1",href:"https://www.google.com/search?q="},{name:"baidu",text:"百度",tip:"Alt+2",href:"https://www.baidu.com/s?ie=utf-8&word="},{name:"bing",text:"必应",tip:"Alt+3",href:"https://cn.bing.com/search?q="}]),m=h(!1),i=h(""),x=e=>{m.value=e},g=e=>{l.value={name:e.name,text:e.text,href:e.href},localStorage.setItem("search-engine",e.name)},c=e=>{if(e.altKey&&e.key==="Enter"&&i.value)return window.open(l.value.href+i.value);const a=+e.key;if(e.altKey&&a<=r.value.length&&a>0){const _=r.value.find(d=>d.tip===`Alt+${a}`);g(_)}},p=()=>i.value&&location.replace(l.value.href+i.value),f=localStorage.getItem("search-engine");if(f){const e=r.value.find(a=>a.name===f);e&&(l.value={name:e.name,text:e.text,href:e.href})}return{engine:l,engineList:r,engineListShow:m,searchText:i,toggleEngineList:x,changeEngine:g,shortcutKey:c,search:p}}const j={class:"home"},z={class:"nav"},G=o("div",{class:"avatar"},[o("img",{src:M,alt:"头像",draggable:"false"})],-1),J={class:"search"},O=["placeholder"],P={class:"engine-list"},Q=["onClick"],W={class:"name"},X={class:"key-tip"},ie=S({__name:"Home",setup(l){const r=H(),m=D(),{engine:i,engineList:x,engineListShow:g,searchText:c,toggleEngineList:p,changeEngine:f,shortcutKey:e,search:a}=U(),_=window.isLocal;function d(y){m.reset(),F.push("/"+y)}return(y,t)=>{const k=$("Icon");return w(),v(L,null,[o("div",j,[o("header",null,[o("nav",z,[s(_)?(w(),v("span",{key:0,class:"link",onClick:t[0]||(t[0]=n=>d("admin"))},"管理后台")):K("",!0),o("span",{class:"link",onClick:t[1]||(t[1]=n=>d("toolbox"))},"工具箱")])]),G,o("div",J,[o("button",{class:"engine",onFocus:t[2]||(t[2]=n=>s(p)(!0)),onBlur:t[3]||(t[3]=n=>s(p)(!1))},[u(k,{name:s(i).name},null,8,["name"])],32),b(o("input",{type:"text",ref_key:"inputRef",ref:r,"onUpdate:modelValue":t[4]||(t[4]=n=>T(c)?c.value=n:null),placeholder:`使用 ${s(i).text} 搜索`,onKeydown:t[5]||(t[5]=(...n)=>s(e)&&s(e)(...n)),onKeypress:t[6]||(t[6]=B((...n)=>s(a)&&s(a)(...n),["enter"]))},null,40,O),[[A,s(c)]]),o("button",{class:"btn",onClick:t[7]||(t[7]=(...n)=>s(a)&&s(a)(...n))},[u(k,{name:"search"})]),u(N,{name:"slide-fade"},{default:I(()=>[b(o("div",P,[(w(!0),v(L,null,V(s(x),(n,E)=>(w(),v("div",{key:E,class:"item",onClick:Y=>s(f)(n)},[u(k,{name:n.name},null,8,["name"]),o("span",W,C(n.text),1),o("span",X,C(n.tip),1)],8,Q))),128))],512),[[R,s(g)]])]),_:1})])]),u(q)],64)}}});export{ie as default};
