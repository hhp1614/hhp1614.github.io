import{r as h,j as T,y as _,B as o,A as c,E as y,u as t,G as k,L as A,i as C,M as $,T as B,F as b,x as E,v as x,N as I,H as N,I as V,J as S}from"./@vue-38770cdf.js";import{_ as q}from"./Footer.vuevuetypescriptsetuptruelang-ad8deea4.js";import{u as F}from"./index-a27b42ca.js";import{u as R}from"./useAutofocus-df97093e.js";import"./pinia-66418fe9.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-16d39139.js";const D="/avatar.svg";function H(){const r=h({name:"google",text:"谷歌",href:"https://www.google.com/search?q="}),l=h([{name:"google",text:"谷歌",tip:"Alt+1",href:"https://www.google.com/search?q="},{name:"baidu",text:"百度",tip:"Alt+2",href:"https://www.baidu.com/s?ie=utf-8&word="},{name:"bing",text:"必应",tip:"Alt+3",href:"https://cn.bing.com/search?q="}]),m=h(!1),i=h(""),d=e=>{m.value=e},g=e=>{r.value={name:e.name,text:e.text,href:e.href},localStorage.setItem("search-engine",e.name)},u=e=>{if(e.altKey&&e.key==="Enter"&&i.value)return window.open(r.value.href+i.value);const a=+e.key;if(e.altKey&&a<=l.value.length&&a>0){const w=l.value.find(n=>n.tip===`Alt+${a}`);g(w)}},p=()=>i.value&&location.replace(r.value.href+i.value),f=localStorage.getItem("search-engine");if(f){const e=l.value.find(a=>a.name===f);e&&(r.value={name:e.name,text:e.text,href:e.href})}return{engine:r,engineList:l,engineListShow:m,searchText:i,toggleEngineList:d,changeEngine:g,shortcutKey:u,search:p}}const M={class:"home"},j=o("div",{class:"avatar"},[o("img",{src:D,alt:"头像",draggable:"false"})],-1),G={class:"search"},J=["placeholder"],U={class:"engine-list"},z=["onClick"],O={class:"name"},P={class:"key-tip"},se=T({__name:"Home",setup(r){const l=R(),m=F(),{engine:i,engineList:d,engineListShow:g,searchText:u,toggleEngineList:p,changeEngine:f,shortcutKey:e,search:a}=H();return(w,n)=>{const L=E("router-link"),v=E("Icon");return x(),_(b,null,[o("div",M,[o("header",null,[o("nav",null,[c(L,{to:t(m).active.path||"/toolbox"},{default:y(()=>[I("工具箱")]),_:1},8,["to"])])]),j,o("div",G,[o("button",{class:"engine",onFocus:n[0]||(n[0]=s=>t(p)(!0)),onBlur:n[1]||(n[1]=s=>t(p)(!1))},[c(v,{name:t(i).name},null,8,["name"])],32),k(o("input",{type:"text",ref_key:"inputRef",ref:l,"onUpdate:modelValue":n[2]||(n[2]=s=>C(u)?u.value=s:null),placeholder:`使用 ${t(i).text} 搜索`,onKeydown:n[3]||(n[3]=(...s)=>t(e)&&t(e)(...s)),onKeypress:n[4]||(n[4]=$((...s)=>t(a)&&t(a)(...s),["enter"]))},null,40,J),[[A,t(u)]]),o("button",{class:"btn",onClick:n[5]||(n[5]=(...s)=>t(a)&&t(a)(...s))},[c(v,{name:"search"})]),c(B,{name:"slide-fade"},{default:y(()=>[k(o("div",U,[(x(!0),_(b,null,V(t(d),(s,K)=>(x(),_("div",{key:K,class:"item",onClick:Q=>t(f)(s)},[c(v,{name:s.name},null,8,["name"]),o("span",O,S(s.text),1),o("span",P,S(s.tip),1)],8,z))),128))],512),[[N,t(g)]])]),_:1})])]),c(q)],64)}}});export{se as default};
