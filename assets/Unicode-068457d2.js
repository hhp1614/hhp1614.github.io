import{j as x,a as w,v as p,z as B,C as a,B as c,y as h}from"./@vue-562a0746.js";const E={class:"unicode"},X={class:"form"},M={class:"actions"},R={class:"input"},S={class:"output"},k={class:"content"},m="UTF-8",$=x({__name:"Unicode",setup(I){const i=/{}/g,l=new Map([["UTF-8","\\x{}"],["UTF-16","\\u{}"]]),f=[{value:"UTF-8",desc:l.get("UTF-8").replace(i,"XX")},{value:"UTF-16",desc:l.get("UTF-16").replace(i,"XXXX")}],e=w({type:m,format:l.get(m),source:"",result:""}),U=new Map([["UTF-8",v],["UTF-16",F]]),g=new Map([["UTF-8",y],["UTF-16",C]]);function _(){const t=U.get(e.type)(e.source);e.result=t.map(n=>e.format.replace(i,n)).join("")}function T(){var r;const o=e.format.replace("\\","\\\\"),t=new RegExp(o.replace("{}","(\\w+)"),"g"),n=new RegExp(o.replace("{}","|"),"g"),d=((r=e.result.match(t))==null?void 0:r.map(s=>s.replace(n,"")))||[],u=g.get(e.type);e.source=u(d)}function v(o){return Array.from(new TextEncoder().encode(o)).map(t=>t.toString(16))}function y(o){return new TextDecoder().decode(new Uint8Array(o.map(t=>parseInt(t,16))))}function F(o){let t=[];for(let n=0;n<o.length;n++)t.push(o.charCodeAt(n).toString(16).padStart(4,"0"));return t}function C(o){return String.fromCodePoint(...o.map(t=>parseInt(t,16)))}function V(){e.source="",e.result="",e.format=l.get(e.type)}return(o,t)=>{const n=p("FormRadio"),d=p("BtnCopy"),u=p("BtnIcon"),r=p("Editor");return h(),B("div",E,[a("div",X,[c(n,{modelValue:e.type,"onUpdate:modelValue":t[0]||(t[0]=s=>e.type=s),list:f,onChange:V},null,8,["modelValue"])]),a("div",M,[a("div",R,[c(d,{text:e.source},null,8,["text"]),c(u,{icon:"clear",onClick:t[1]||(t[1]=s=>e.source="")})]),a("div",S,[c(d,{text:e.result},null,8,["text"]),c(u,{icon:"clear",onClick:t[2]||(t[2]=s=>e.result="")})])]),a("div",k,[c(r,{class:"input",modelValue:e.source,"onUpdate:modelValue":t[3]||(t[3]=s=>e.source=s),placeholder:"原文",onChange:_,autofocus:""},null,8,["modelValue"]),c(r,{class:"output",modelValue:e.result,"onUpdate:modelValue":t[4]||(t[4]=s=>e.result=s),placeholder:`${e.type} 编码文本`,onChange:T},null,8,["modelValue","placeholder"])])])}}});export{$ as default};
