import{h as V}from"./he-ff04cf37.js";import{j as h,a as O,v as i,z as C,C as l,B as t,K as f,y as b}from"./@vue-562a0746.js";import"./crypto-js-ee19547d.js";const v={class:"html-entity"},y={class:"form"},U=l("div",{class:"separate"},null,-1),_={class:"actions"},x={class:"input"},E=l("span",{class:"desc"},"he.encode('原文', options)",-1),B={class:"msg"},M={class:"output"},k=l("span",{class:"desc"},"he.decode('密文')",-1),S={class:"msg"},w={class:"content"},$=h({__name:"HtmlEntity",setup(A){const e=O({encodeOptions:{useNamedReferences:!0,decimal:!1,encodeEverything:!1,strict:!1,allowUnsafeSymbols:!1},decodeOptions:{isAttributeValue:!1,strict:!1},origin:"",cipher:"",encodeMsg:"",decodeMsg:""});function d(){try{e.cipher=V.encode(e.origin,e.encodeOptions),e.encodeMsg=""}catch{e.cipher="",e.encodeMsg="编码错误"}}function a(){try{e.origin=V.decode(e.cipher,e.decodeOptions),e.decodeMsg=""}catch{e.origin="",e.decodeMsg="解码错误"}}function p(c,o){c&&o&&e.encodeOptions[c]&&(e.encodeOptions[o]=!1),d()}function r(){e.origin="",e.cipher=""}return(c,o)=>{const s=i("FormCheckbox"),u=i("BtnCopy"),m=i("BtnIcon"),g=i("Editor");return b(),C("div",v,[l("div",y,[t(s,{modelValue:e.encodeOptions.useNamedReferences,"onUpdate:modelValue":o[0]||(o[0]=n=>e.encodeOptions.useNamedReferences=n),label:"使用命名引用",tooltip:"©：&#xA9; -> &copy;",onChange:d},null,8,["modelValue"]),t(s,{modelValue:e.encodeOptions.decimal,"onUpdate:modelValue":o[1]||(o[1]=n=>e.encodeOptions.decimal=n),label:"使用十进制",tooltip:"©：&#xA9; -> &#169;",onChange:d},null,8,["modelValue"]),t(s,{modelValue:e.encodeOptions.encodeEverything,"onUpdate:modelValue":o[2]||(o[2]=n=>e.encodeOptions.encodeEverything=n),label:"编码所有字符",tooltip:"对输入字符串中的每个符号进行编码",onChange:o[3]||(o[3]=n=>p("encodeEverything","allowUnsafeSymbols"))},null,8,["modelValue"]),t(s,{modelValue:e.encodeOptions.strict,"onUpdate:modelValue":o[4]||(o[4]=n=>e.encodeOptions.strict=n),label:"编码时校验",tooltip:"解析错误会抛出异常",onChange:o[5]||(o[5]=n=>d())},null,8,["modelValue"]),t(s,{modelValue:e.encodeOptions.allowUnsafeSymbols,"onUpdate:modelValue":o[6]||(o[6]=n=>e.encodeOptions.allowUnsafeSymbols=n),label:"允许编码不安全字符",tooltip:"比如：&, <, >, \", ', `",onChange:o[7]||(o[7]=n=>p("allowUnsafeSymbols","encodeEverything"))},null,8,["modelValue"]),U,t(s,{modelValue:e.decodeOptions.isAttributeValue,"onUpdate:modelValue":o[8]||(o[8]=n=>e.decodeOptions.isAttributeValue=n),label:"&后作为属性值",tooltip:"比如：foo&ampbar 会保持原样解码",onChange:a},null,8,["modelValue"]),t(s,{modelValue:e.decodeOptions.strict,"onUpdate:modelValue":o[9]||(o[9]=n=>e.decodeOptions.strict=n),label:"解码时校验",tooltip:"解析错误会抛出异常",onChange:a},null,8,["modelValue"])]),l("div",_,[l("div",x,[t(u,{text:e.origin},null,8,["text"]),t(m,{icon:"clear",onClick:r}),E,l("span",B,f(e.encodeMsg),1)]),l("div",M,[t(u,{text:e.cipher},null,8,["text"]),t(m,{icon:"clear",onClick:r}),k,l("span",S,f(e.decodeMsg),1)])]),l("div",w,[t(g,{class:"input",modelValue:e.origin,"onUpdate:modelValue":o[10]||(o[10]=n=>e.origin=n),placeholder:"原文",onChange:d,autofocus:""},null,8,["modelValue"]),t(g,{class:"output",modelValue:e.cipher,"onUpdate:modelValue":o[11]||(o[11]=n=>e.cipher=n),placeholder:"密文",onChange:a},null,8,["modelValue"])])])}}});export{$ as default};
