import{j as g,a as y,r as d,l as n,x as b,A as l,z as s,O as C,D as w,v as k}from"./@vue-494dff21.js";import{a as H,b as z}from"./history-978854bf.js";import{t as B}from"./request-470f9b44.js";const V={class:"history-host"},x={class:"form"},D={class:"content"},I=["onClick"],j=g({__name:"HistoryHost",setup(F){const t=y({host:"",page:1,size:28}),m=[{prop:"host",label:"域名"},{prop:"count",label:"访问次数",width:300},{prop:"action",label:"操作",width:100,slot:!0}],r=d([]),i=d(0);async function o(e){typeof e=="number"&&(t.page=e);const a=await H(t);r.value=a.data.data,t.page=a.data.current_page,i.value=a.data.total}async function u(e){if(!confirm("确定删除吗?"))return;(await z(e)).status&&B("删除成功","success")&&o()}function _(){t.host="",o()}return o(),(e,a)=>{const f=n("FormInput"),p=n("BtnIcon"),h=n("DataTable"),v=n("Paginate");return k(),b("div",V,[l("div",x,[s(f,{modelValue:t.host,"onUpdate:modelValue":a[0]||(a[0]=c=>t.host=c),class:"full",label:"域名",onKeydown:C(o,["enter"]),onClear:o,clearable:""},null,8,["modelValue","onKeydown"]),s(p,{icon:"search",tooltip:"查询",onClick:o}),s(p,{icon:"clear",onClick:_})]),l("div",D,[s(h,{cols:m,data:r.value},{action:w(({row:c})=>[l("span",{class:"link",onClick:K=>u(c.id)},"删除",8,I)]),_:1},8,["data"]),s(v,{page:t.page,size:t.size,total:i.value,onChange:o},null,8,["page","size","total"])])])}}});export{j as default};
