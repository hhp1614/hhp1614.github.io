import{_ as y}from"./Editor.vuevuetypescriptsetuptruelang-ff406f6a.js";import{_ as v}from"./BtnIcon.vuevuetypescriptsetuptruelang-4d4ac8a4.js";import{_ as C}from"./BtnCopy.vuevuetypescriptsetuptruelang-ea0cc8ea.js";import{j as _,A as b,B as s,L as u,y as O,a as U,D as l,u as n}from"./@vue-b0826c04.js";import{h}from"./he-ff04cf37.js";import"./vue-codemirror-6855a0c7.js";import"./codemirror-5234e8e4.js";import"./@codemirror-6cacace9.js";import"./@lezer-48ad2a7f.js";import"./crelt-7bb88e1d.js";import"./style-mod-fd510d21.js";import"./w3c-keyname-9fb136d3.js";import"./index-351b442e.js";import"./pinia-d27202be.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-a796cf7c.js";import"./Icon.vuevuetypescriptsetuptruelang-5f3c4842.js";import"./crypto-js-ee19547d.js";const x={class:"form-item"},k={class:"checkbox"},$=["checked"],E=_({__name:"FormCheckbox",props:{modelValue:Boolean,label:String,list:{type:Array,default:[{value:""}]}},emits:["update:modelValue","change"],setup(p,{emit:e}){function i(d){e("update:modelValue",!d),e("change",!d)}return(d,c)=>(O(),b("div",x,[s("label",k,[s("input",{type:"checkbox",checked:p.modelValue,onChange:c[0]||(c[0]=m=>i(p.modelValue))},null,40,$),s("span",null,u(p.label),1)])]))}}),M={class:"html-entity"},A={class:"form"},B=s("div",{class:"separate"},null,-1),S={class:"actions"},w={class:"input"},N=s("span",{class:"desc"},"he.encode('原文', options)",-1),F={class:"msg"},R={class:"output"},D=s("span",{class:"desc"},"he.decode('密文')",-1),j={class:"msg"},H={class:"content"},le=_({__name:"HtmlEntity",setup(p){const e=U({encodeOptions:{useNamedReferences:!0,decimal:!1,encodeEverything:!1,strict:!1,allowUnsafeSymbols:!1},decodeOptions:{isAttributeValue:!1,strict:!1},origin:"",cipher:"",encodeMsg:"",decodeMsg:""});function i(){try{e.cipher=h.encode(e.origin,e.encodeOptions),e.encodeMsg=""}catch{e.cipher="",e.encodeMsg="编码错误"}}function d(){try{e.origin=h.decode(e.cipher,e.decodeOptions),e.decodeMsg=""}catch{e.origin="",e.decodeMsg="解码错误"}}function c(r,o){r&&o&&e.encodeOptions[r]&&(e.encodeOptions[o]=!1),i()}function m(){e.origin="",e.cipher=""}return(r,o)=>{const a=E,f=C,g=v,V=y;return O(),b("div",M,[s("div",A,[l(a,{modelValue:n(e).encodeOptions.useNamedReferences,"onUpdate:modelValue":o[0]||(o[0]=t=>n(e).encodeOptions.useNamedReferences=t),label:"使用命名引用",tooltip:"©：&#xA9; -> &copy;",onChange:i},null,8,["modelValue"]),l(a,{modelValue:n(e).encodeOptions.decimal,"onUpdate:modelValue":o[1]||(o[1]=t=>n(e).encodeOptions.decimal=t),label:"使用十进制",tooltip:"©：&#xA9; -> &#169;",onChange:i},null,8,["modelValue"]),l(a,{modelValue:n(e).encodeOptions.encodeEverything,"onUpdate:modelValue":o[2]||(o[2]=t=>n(e).encodeOptions.encodeEverything=t),label:"编码所有字符",tooltip:"对输入字符串中的每个符号进行编码",onChange:o[3]||(o[3]=t=>c("encodeEverything","allowUnsafeSymbols"))},null,8,["modelValue"]),l(a,{modelValue:n(e).encodeOptions.strict,"onUpdate:modelValue":o[4]||(o[4]=t=>n(e).encodeOptions.strict=t),label:"编码时校验",tooltip:"解析错误会抛出异常",onChange:o[5]||(o[5]=t=>i())},null,8,["modelValue"]),l(a,{modelValue:n(e).encodeOptions.allowUnsafeSymbols,"onUpdate:modelValue":o[6]||(o[6]=t=>n(e).encodeOptions.allowUnsafeSymbols=t),label:"允许编码不安全字符",tooltip:"比如：&, <, >, \", ', `",onChange:o[7]||(o[7]=t=>c("allowUnsafeSymbols","encodeEverything"))},null,8,["modelValue"]),B,l(a,{modelValue:n(e).decodeOptions.isAttributeValue,"onUpdate:modelValue":o[8]||(o[8]=t=>n(e).decodeOptions.isAttributeValue=t),label:"&后作为属性值",tooltip:"比如：foo&ampbar 会保持原样解码",onChange:d},null,8,["modelValue"]),l(a,{modelValue:n(e).decodeOptions.strict,"onUpdate:modelValue":o[9]||(o[9]=t=>n(e).decodeOptions.strict=t),label:"解码时校验",tooltip:"解析错误会抛出异常",onChange:d},null,8,["modelValue"])]),s("div",S,[s("div",w,[l(f,{text:n(e).origin},null,8,["text"]),l(g,{icon:"clear",onClick:m}),N,s("span",F,u(n(e).encodeMsg),1)]),s("div",R,[l(f,{text:n(e).cipher},null,8,["text"]),l(g,{icon:"clear",onClick:m}),D,s("span",j,u(n(e).decodeMsg),1)])]),s("div",H,[l(V,{class:"input",modelValue:n(e).origin,"onUpdate:modelValue":o[10]||(o[10]=t=>n(e).origin=t),placeholder:"原文",onChange:i,autofocus:""},null,8,["modelValue"]),l(V,{class:"output",modelValue:n(e).cipher,"onUpdate:modelValue":o[11]||(o[11]=t=>n(e).cipher=t),placeholder:"密文",onChange:d},null,8,["modelValue"])])])}}});export{le as default};
