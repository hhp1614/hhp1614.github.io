import{j as b,l as E,q as d,v as O,x as _,y as p,z as V,A as h,u as P,r as g,B as v,C as S,D,T as L,E as $,F as w,G as R,H as M,I as B,J as A}from"./@vue-b15b3ec4.js";import{d as T,c as N}from"./pinia-3eeae971.js";import{c as F,a as q}from"./vue-router-56647813.js";import"./vue-demi-71ba0ef2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const H=T("darkMode",{state:()=>({darkModeOn:!1}),actions:{async setDarkModeOn(e){return this.darkModeOn=e,this.darkModeOn}}}),j="modulepreload",J=function(e){return"/"+e},x={},f=function(t,n,s){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=J(a),a in x)return;x[a]=!0;const r=a.endsWith(".css"),u=r?'[rel="stylesheet"]':"";if(!!s)for(let l=o.length-1;l>=0;l--){const m=o[l];if(m.href===a&&(!r||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":j,r||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),r)return new Promise((l,m)=>{c.addEventListener("load",l),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())},z=[{name:"format",meta:{title:"代码格式"},children:[{name:"json",meta:{title:"JSON",desc:"格式化 / 压缩"},component:()=>f(()=>import("./Json-4778165a.js"),["assets/Json-4778165a.js","assets/@vue-b15b3ec4.js","assets/pinia-3eeae971.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-56647813.js"])}]},{name:"crypto",meta:{title:"编码加密"},children:[{name:"hash",meta:{title:"Hash",desc:"MD5 / SHA ..."},component:()=>f(()=>import("./Hash-5f90aa49.js"),["assets/Hash-5f90aa49.js","assets/plugin-vueexport-helper-c27b6911.js","assets/@vue-b15b3ec4.js"])},{name:"base64",meta:{title:"Base64",desc:"编码 / 解码"},component:()=>f(()=>import("./Base64-6ee2df25.js"),["assets/Base64-6ee2df25.js","assets/plugin-vueexport-helper-c27b6911.js","assets/@vue-b15b3ec4.js"])}]},{name:"generator",meta:{title:"生成器"},children:[{name:"snippets",meta:{title:"Snippets",desc:"代码片段"},component:()=>f(()=>import("./Snippets-1dab5a70.js"),["assets/Snippets-1dab5a70.js","assets/@vue-b15b3ec4.js"])}]}];let C="";const U=z.reduce((e,t,n)=>(t.children=t.children.map((s,o)=>(s.path=`/toolbox/${s.name}`,n===0&&o===0&&(C=s.path),s)),[...e,...t.children]),[]),W=[{path:"/",component:()=>f(()=>import("./Home-2f8b61ed.js"),["assets/Home-2f8b61ed.js","assets/@vue-b15b3ec4.js","assets/Footer.vuevuetypescriptsetuptruelang-6f849bfc.js","assets/pinia-3eeae971.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-56647813.js"])},{path:"/toolbox",component:()=>f(()=>import("./Layout-b8ab963d.js"),["assets/Layout-b8ab963d.js","assets/@vue-b15b3ec4.js","assets/Footer.vuevuetypescriptsetuptruelang-6f849bfc.js","assets/pinia-3eeae971.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-56647813.js"]),children:U,redirect:C}],I=F({history:q(),routes:W}),ue=T("tab",{state:()=>({tabs:[],active:{path:"",name:""}}),actions:{gotoTab(e){e.path!=="/"&&e.path!==this.active.path&&(this.tabs.every(t=>t.path!==e.path)&&this.tabs.push(e),this.active=e,I.push(e.path))},removeTab(e){if(this.tabs.length===1)return;let t=this.tabs.findIndex(n=>n.path===e);this.tabs.splice(t,1),this.active.path===e&&(t===this.tabs.length&&t--,this.active=this.tabs[t],I.push(this.active.path))},clearTab(){this.tabs=this.tabs.filter(e=>e.path===this.active.path)}}}),y={id:Date.now(),title:"Tab",text:""},pe=T("json",{state:()=>({tabs:[{...y}],activeTabId:y.id}),getters:{activeTabText:e=>e.tabs.find(t=>t.id===e.activeTabId).text},actions:{changeTabName(e,t,n){t!==n&&(this.tabs.find(s=>s.id===e).title=n)},addTab(e){const t={...y};t.id=Date.now(),this.tabs.push(t),this.activeTabId=t.id,e&&e.focus()},changeTab(e){this.activeTabId!==e&&(this.activeTabId=e)},changeTabText(e){const t=this.tabs.find(n=>n.id===this.activeTabId);t.text=e},removeTab(e){const t=this.tabs.findIndex(n=>n.id===e);if(this.tabs.splice(t,1),this.tabs.length===0&&this.addTab(),this.activeTabId===e){const n=Math.min(t+1,this.tabs.length-1);this.activeTabId=this.tabs[n].id}},clearTab(e){const t={...y};this.tabs=[t],this.activeTabId=t.id,e&&e.focus()}}}),G=b({__name:"App",setup(e){function t(n){const s=H();s.setDarkModeOn(n.matches);const o=document.querySelector("link[rel=icon]");o.href=s.darkModeOn?"/avatar-dark.svg":"/avatar.svg"}return E(()=>{const n=window.matchMedia("(prefers-color-scheme: dark");t(n),n.addEventListener("change",t)}),(n,s)=>{const o=_("router-view");return d(),O(o)}}}),K=b({__name:"Icon",props:{name:{type:String,require:!0}},setup(e){const t=e;return(n,s)=>(d(),p("i",{class:V(["iconfont",`icon-${t.name}`])},null,2))}});function Q(e){return navigator.clipboard?navigator.clipboard.writeText(e):new Promise(t=>{const n=document.createElement("textarea");document.body.appendChild(n),n.style.position="fixed",n.style.clip="rect(0 0 0 0)",n.style.top="10px",n.value=e,n.select(),document.execCommand("copy",!0),document.body.removeChild(n),t(!0)})}const X=b({__name:"Copy",props:{text:{type:String,default:""}},setup(e){return(t,n)=>{const s=_("Icon");return d(),p("button",{onClick:n[0]||(n[0]=o=>P(Q)(e.text)),tooltip:"复制"},[h(s,{name:"copy"})])}}}),Y=["tooltip"],Z=["type","placeholder","readonly","value"],ee=b({__name:"FormInput",props:{type:String,placeholder:String,label:String,readonly:Boolean,clearable:Boolean,modelValue:String},emits:["update:modelValue"],setup(e,{emit:t}){const n=g();function s(a){const r=a.target;t("update:modelValue",r.value)}function o(){t("update:modelValue","")}return(a,r)=>{const u=_("Icon");return d(),p("div",{class:"form-item",onClick:r[1]||(r[1]=()=>n.value.focus())},[v("div",{class:"prefix",tooltip:e.label},[h(u,{name:"pencil"})],8,Y),v("input",{ref_key:"inputRef",ref:n,type:e.type,placeholder:e.placeholder,readonly:e.readonly,value:e.modelValue,onInput:r[0]||(r[0]=i=>s(i))},null,40,Z),e.clearable?(d(),p("span",{key:0,class:"close",onClick:o},"×")):S("",!0)])}}}),te=["tooltip"],ne=["placeholder","value"],oe=["onClick"],ae=b({__name:"FormSelect",props:{placeholder:{type:String,default:"请选择"},label:String,clearable:Boolean,modelValue:String,list:Array},emits:["update:modelValue"],setup(e,{emit:t}){const n=g(),s=g(!1);function o(u){const i=u.target;t("update:modelValue",i.value)}function a(){t("update:modelValue","")}function r(u){t("update:modelValue",u)}return(u,i)=>{const c=_("Icon");return d(),p("div",{class:"form-item",onClick:i[4]||(i[4]=(...l)=>n.value.focus&&n.value.focus(...l))},[v("div",{class:"prefix",tooltip:e.label},[h(c,{name:"pencil"})],8,te),v("input",{ref_key:"inputRef",ref:n,placeholder:e.placeholder,value:e.modelValue,onFocus:i[0]||(i[0]=l=>s.value=!0),onBlur:i[1]||(i[1]=l=>s.value=!1),onInput:i[2]||(i[2]=l=>o(l)),readonly:""},null,40,ne),e.clearable?(d(),p("span",{key:0,class:"close",onClick:a},"×")):S("",!0),h(c,{name:"arrow-down"}),h(L,{name:"slide-fade"},{default:D(()=>[$(v("div",{class:"select-list",onTest:r,onClick:i[3]||(i[3]=l=>l.stopPropagation())},[(d(!0),p(R,null,M(e.list,({label:l,value:m})=>(d(),p("div",{key:m,class:"select-option",onClick:re=>r(m)},B(l),9,oe))),128))],544),[[w,s.value]])]),_:1})])}}}),k={Icon:K,Copy:X,FormInput:ee,FormSelect:ae},se={install(e){for(const t in k)e.component(t,k[t])}};A(G).use(se).use(N()).use(I).mount("#app");export{H as a,pe as b,I as r,z as t,ue as u};
