import{r as h,j as T,q as _,y as x,B as o,A as u,E as k,u as t,G as y,L as C,i as $,M as A,T as B,F as b,x as S,N as I,H as M,I as q,J as E}from"./@vue-bc8ac499.js";import{_ as N}from"./Footer.vuevuetypescriptsetuptruelang-c8c463b3.js";import{u as V,a as D}from"./index-bc663253.js";import"./pinia-e2ddd066.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-1019b0f4.js";function F(){const l=h({name:"google",text:"谷歌",href:"https://www.google.com/search?q="}),i=h([{name:"google",text:"谷歌",tip:"Alt+1",href:"https://www.google.com/search?q="},{name:"baidu",text:"百度",tip:"Alt+2",href:"https://www.baidu.com/s?ie=utf-8&word="},{name:"bing",text:"必应",tip:"Alt+3",href:"https://cn.bing.com/search?q="}]),d=h(!1),a=h(""),p=e=>{d.value=e},c=e=>{l.value={name:e.name,text:e.text,href:e.href},localStorage.setItem("search-engine",e.name)},g=e=>{if(e.altKey&&e.key==="Enter"&&a.value)return window.open(l.value.href+a.value);const r=+e.key;if(e.altKey&&r<=i.value.length&&r>0){const w=i.value.find(n=>n.tip===`Alt+${r}`);c(w)}},f=()=>a.value&&location.replace(l.value.href+a.value),m=localStorage.getItem("search-engine");if(m){const e=i.value.find(r=>r.name===m);e&&(l.value={name:e.name,text:e.text,href:e.href})}return{engine:l,engineList:i,engineListShow:d,searchText:a,toggleEngineList:p,changeEngine:c,shortcutKey:g,search:f}}const H={class:"home"},j={class:"avatar"},G=["src"],J={class:"search"},O=["placeholder"],R={class:"engine-list"},U=["onClick"],z={class:"name"},P={class:"key-tip"},ne=T({__name:"Home",setup(l){const i=V(),{engine:d,engineList:a,engineListShow:p,searchText:c,toggleEngineList:g,changeEngine:f,shortcutKey:m,search:e}=F(),r=D();return(w,n)=>{const L=S("router-link"),v=S("Icon");return _(),x(b,null,[o("div",H,[o("header",null,[o("nav",null,[u(L,{to:t(i).active.path||"/toolbox"},{default:k(()=>[I("工具箱")]),_:1},8,["to"])])]),o("div",j,[o("img",{src:t(r).darkModeOn?"/avatar-dark.svg":"/avatar.svg",alt:"头像",draggable:"false"},null,8,G)]),o("div",J,[o("button",{class:"engine",onFocus:n[0]||(n[0]=s=>t(g)(!0)),onBlur:n[1]||(n[1]=s=>t(g)(!1))},[u(v,{name:t(d).name},null,8,["name"])],32),y(o("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=s=>$(c)?c.value=s:null),placeholder:`使用 ${t(d).text} 搜索`,onKeydown:n[3]||(n[3]=(...s)=>t(m)&&t(m)(...s)),onKeypress:n[4]||(n[4]=A((...s)=>t(e)&&t(e)(...s),["enter"])),autofocus:""},null,40,O),[[C,t(c)]]),o("button",{class:"btn",onClick:n[5]||(n[5]=(...s)=>t(e)&&t(e)(...s))},[u(v,{name:"search"})]),u(B,{name:"slide-fade"},{default:k(()=>[y(o("div",R,[(_(!0),x(b,null,q(t(a),(s,K)=>(_(),x("div",{key:K,class:"item",onClick:Q=>t(f)(s)},[u(v,{name:s.name},null,8,["name"]),o("span",z,E(s.text),1),o("span",P,E(s.tip),1)],8,U))),128))],512),[[M,t(p)]])]),_:1})])]),u(N)],64)}}});export{ne as default};
