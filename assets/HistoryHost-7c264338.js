import{j as g,a as y,r as d,v as n,z as C,C as l,B as s,Q as b,G as w,y as k}from"./@vue-562a0746.js";import{a as B,b as H}from"./history-978854bf.js";import{t as z}from"./request-470f9b44.js";const V={class:"history-host"},I={class:"form"},x={class:"content"},D=["onClick"],j=g({__name:"HistoryHost",setup(F){const t=y({host:"",page:1,size:28}),m=[{prop:"host",label:"域名"},{prop:"count",label:"访问次数",width:300},{prop:"action",label:"操作",width:100,slot:!0}],r=d([]),i=d(0);async function o(e){typeof e=="number"&&(t.page=e);const a=await B(t);r.value=a.data.data,t.page=a.data.current_page,i.value=a.data.total}async function u(e){if(!confirm("确定删除吗?"))return;(await H(e)).status&&z("删除成功","success")&&o()}function _(){t.host="",o()}return o(),(e,a)=>{const f=n("FormInput"),p=n("BtnIcon"),h=n("DataTable"),v=n("Paginate");return k(),C("div",V,[l("div",I,[s(f,{modelValue:t.host,"onUpdate:modelValue":a[0]||(a[0]=c=>t.host=c),class:"full",label:"域名",onKeydown:b(o,["enter"]),onClear:o,clearable:""},null,8,["modelValue","onKeydown"]),s(p,{icon:"search",tooltip:"查询",onClick:o}),s(p,{icon:"clear",onClick:_})]),l("div",x,[s(h,{cols:m,data:r.value},{action:w(({row:c})=>[l("span",{class:"link",onClick:K=>u(c.id)},"删除",8,D)]),_:1},8,["data"]),s(v,{page:t.page,size:t.size,total:i.value,onChange:o},null,8,["page","size","total"])])])}}});export{j as default};
