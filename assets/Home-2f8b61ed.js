import{r as h,j as T,q as _,y as x,B as o,A as u,D as k,u as t,E as y,K as C,i as $,L as A,T as B,G as b,x as S,M as I,F as M,H as q,I as E}from"./@vue-b15b3ec4.js";import{_ as D}from"./Footer.vuevuetypescriptsetuptruelang-6f849bfc.js";import{u as V,a as F}from"./index-8d3e37bb.js";import"./pinia-3eeae971.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-56647813.js";function N(){const l=h({name:"google",text:"谷歌",href:"https://www.google.com/search?q="}),i=h([{name:"google",text:"谷歌",tip:"Alt+1",href:"https://www.google.com/search?q="},{name:"baidu",text:"百度",tip:"Alt+2",href:"https://www.baidu.com/s?ie=utf-8&word="},{name:"bing",text:"必应",tip:"Alt+3",href:"https://cn.bing.com/search?q="}]),d=h(!1),a=h(""),p=e=>{d.value=e},c=e=>{l.value={name:e.name,text:e.text,href:e.href},localStorage.setItem("search-engine",e.name)},g=e=>{if(e.altKey&&e.key==="Enter"&&a.value)return window.open(l.value.href+a.value);const r=+e.key;if(e.altKey&&r<=i.value.length&&r>0){const w=i.value.find(n=>n.tip===`Alt+${r}`);c(w)}},f=()=>a.value&&location.replace(l.value.href+a.value),m=localStorage.getItem("search-engine");if(m){const e=i.value.find(r=>r.name===m);e&&(l.value={name:e.name,text:e.text,href:e.href})}return{engine:l,engineList:i,engineListShow:d,searchText:a,toggleEngineList:p,changeEngine:c,shortcutKey:g,search:f}}const H={class:"home"},j={class:"avatar"},G=["src"],O={class:"search"},R=["placeholder"],U={class:"engine-list"},z=["onClick"],J={class:"name"},P={class:"key-tip"},ne=T({__name:"Home",setup(l){const i=V(),{engine:d,engineList:a,engineListShow:p,searchText:c,toggleEngineList:g,changeEngine:f,shortcutKey:m,search:e}=N(),r=F();return(w,n)=>{const K=S("router-link"),v=S("Icon");return _(),x(b,null,[o("div",H,[o("header",null,[o("nav",null,[u(K,{to:t(i).active.path||"/toolbox"},{default:k(()=>[I("工具箱")]),_:1},8,["to"])])]),o("div",j,[o("img",{src:t(r).darkModeOn?"/avatar-dark.svg":"/avatar.svg",alt:"头像",draggable:"false"},null,8,G)]),o("div",O,[o("button",{class:"engine",onFocus:n[0]||(n[0]=s=>t(g)(!0)),onBlur:n[1]||(n[1]=s=>t(g)(!1))},[u(v,{name:t(d).name},null,8,["name"])],32),y(o("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=s=>$(c)?c.value=s:null),placeholder:`使用 ${t(d).text} 搜索`,onKeydown:n[3]||(n[3]=(...s)=>t(m)&&t(m)(...s)),onKeypress:n[4]||(n[4]=A((...s)=>t(e)&&t(e)(...s),["enter"])),autofocus:""},null,40,R),[[C,t(c)]]),o("button",{class:"btn",onClick:n[5]||(n[5]=(...s)=>t(e)&&t(e)(...s))},[u(v,{name:"search"})]),u(B,{name:"slide-fade"},{default:k(()=>[y(o("div",U,[(_(!0),x(b,null,q(t(a),(s,L)=>(_(),x("div",{key:L,class:"item",onClick:Q=>t(f)(s)},[u(v,{name:s.name},null,8,["name"]),o("span",J,E(s.text),1),o("span",P,E(s.tip),1)],8,z))),128))],512),[[M,t(p)]])]),_:1})])]),u(D)],64)}}});export{ne as default};
