import{r as h,j as C,q as v,y as _,B as o,A as g,D as k,u as t,z as T,E as y,K as $,i as A,L as B,T as I,G as b,x as S,M,F as q,H as D,I as E}from"./@vue-b15b3ec4.js";import{_ as V}from"./Footer.vuevuetypescriptsetuptruelang-6f849bfc.js";import{u as F,a as N}from"./index-d6f30692.js";import"./pinia-3eeae971.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-56647813.js";function z(){const r=h({name:"google",text:"谷歌",href:"https://www.google.com/search?q="}),i=h([{name:"google",text:"谷歌",tip:"Alt+1",href:"https://www.google.com/search?q="},{name:"baidu",text:"百度",tip:"Alt+2",href:"https://www.baidu.com/s?ie=utf-8&word="},{name:"bing",text:"必应",tip:"Alt+3",href:"https://cn.bing.com/search?q="}]),u=h(!1),a=h(""),p=e=>{u.value=e},c=e=>{r.value={name:e.name,text:e.text,href:e.href},localStorage.setItem("search-engine",e.name)},m=e=>{if(e.altKey&&e.key==="Enter"&&a.value)return window.open(r.value.href+a.value);const l=+e.key;if(e.altKey&&l<=i.value.length&&l>0){const x=i.value.find(n=>n.tip===`Alt+${l}`);c(x)}},f=()=>a.value&&location.replace(r.value.href+a.value),d=localStorage.getItem("search-engine");if(d){const e=i.value.find(l=>l.name===d);e&&(r.value={name:e.name,text:e.text,href:e.href})}return{engine:r,engineList:i,engineListShow:u,searchText:a,toggleEngineList:p,changeEngine:c,shortcutKey:m,search:f}}const H={class:"home"},j={class:"avatar"},G=["src"],O={class:"search"},R=["placeholder"],U={class:"engine-list"},J=["onClick"],P={class:"name"},Q={class:"key-tip"},se=C({__name:"Home",setup(r){const i=F(),{engine:u,engineList:a,engineListShow:p,searchText:c,toggleEngineList:m,changeEngine:f,shortcutKey:d,search:e}=z(),l=N();return(x,n)=>{const K=S("router-link"),w=S("Icon");return v(),_(b,null,[o("div",H,[o("header",null,[o("nav",null,[g(K,{to:t(i).active.path||"/toolbox"},{default:k(()=>[M("工具箱")]),_:1},8,["to"])])]),o("div",j,[o("img",{src:t(l).darkModeOn?"/avatar-dark.svg":"/avatar.svg",alt:"头像",draggable:"false"},null,8,G)]),o("div",O,[o("button",{class:"engine",onFocus:n[0]||(n[0]=s=>t(m)(!0)),onBlur:n[1]||(n[1]=s=>t(m)(!1))},[o("i",{class:T("icon-"+t(u).name)},null,2)],32),y(o("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=s=>A(c)?c.value=s:null),placeholder:`使用 ${t(u).text} 搜索`,onKeydown:n[3]||(n[3]=(...s)=>t(d)&&t(d)(...s)),onKeypress:n[4]||(n[4]=B((...s)=>t(e)&&t(e)(...s),["enter"])),autofocus:""},null,40,R),[[$,t(c)]]),o("button",{class:"btn",onClick:n[5]||(n[5]=(...s)=>t(e)&&t(e)(...s))},[g(w,{name:"search"})]),g(I,{name:"slide-fade"},{default:k(()=>[y(o("div",U,[(v(!0),_(b,null,D(t(a),(s,L)=>(v(),_("div",{key:L,class:"item",onClick:W=>t(f)(s)},[g(w,{name:s.name},null,8,["name"]),o("span",P,E(s.text),1),o("span",Q,E(s.tip),1)],8,J))),128))],512),[[q,t(p)]])]),_:1})])]),g(V)],64)}}});export{se as default};
