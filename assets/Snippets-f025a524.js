import{j as g,r as C,a as F,h as f,q as c,y as u,B as a,A as s,u as b,G as j,L as H,D as S,F as k,I as L,x as d}from"./@vue-bc8ac499.js";import{u as M,j as U}from"./useAutofocus-59b25a0f.js";const B={class:"snippets"},D={class:"form"},P={class:"actions"},T={class:"input"},I={class:"output"},N={class:"content"},$={class:"output"},w=["innerHTML"],q=g({__name:"Snippets",setup(A){const x=M(),v=C([{label:"HTML",value:"html"},{label:"JS",value:"js"},{label:"PHP",value:"php"}]),e=F({name:"",prefix:"",desc:"",body:"",scope:""}),m=f(()=>{const p=e.body.split(`
`).map(l=>l.replace(/\$/g,"\\$")),t={[e.name]:{scope:e.scope,prefix:e.prefix,description:e.desc,body:p.length===1?p.pop():p}};return JSON.stringify(t,null,4)}),_=f(()=>U(m.value));function V(p){var r;let t=((r=p.clipboardData)==null?void 0:r.getData("text"))??"",l=0;const i=t.split(/\r\n|\r|\n/g).map((n,o)=>{if(o===0){const[y]=n.match(/^ +/)||[""];l=y.length}return n.length>=l?n.slice(l):n});e.body=i.join(`
`)}function h(){e.name="",e.prefix="",e.desc="",e.scope=""}return(p,t)=>{const l=d("FormInput"),i=d("FormSelect"),r=d("Clear"),n=d("Copy");return c(),u("div",B,[a("div",D,[s(l,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o),label:"name",placeholder:"name",clearable:""},null,8,["modelValue"]),s(i,{modelValue:e.scope,"onUpdate:modelValue":t[1]||(t[1]=o=>e.scope=o),list:v.value,label:"scope",placeholder:"scope",clearable:""},null,8,["modelValue","list"]),s(l,{modelValue:e.prefix,"onUpdate:modelValue":t[2]||(t[2]=o=>e.prefix=o),label:"prefix",placeholder:"prefix",clearable:""},null,8,["modelValue"]),s(l,{modelValue:e.desc,"onUpdate:modelValue":t[3]||(t[3]=o=>e.desc=o),label:"desc",placeholder:"desc",clearable:""},null,8,["modelValue"]),s(r,{onClick:h})]),a("div",P,[a("div",T,[s(n,{text:e.body},null,8,["text"]),s(r,{onClick:t[4]||(t[4]=o=>e.body="")})]),a("div",I,[s(n,{text:b(m)},null,8,["text"])])]),a("div",N,[j(a("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>e.body=o),class:"input",ref_key:"inputRef",ref:x,placeholder:"代码片段",onPaste:t[6]||(t[6]=S(o=>V(o),["prevent"]))},null,544),[[H,e.body]]),a("div",$,[(c(!0),u(k,null,L(b(_).split(`
`),o=>(c(),u("div",{class:"code-text",innerHTML:o},null,8,w))),256))])])])}}});export{q as default};
