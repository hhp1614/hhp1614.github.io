import{j as g,a as y,r as u,l as n,x as b,A as l,z as s,O as C,D as k,v as w}from"./@vue-494dff21.js";import{a as H,b as z,t as B}from"./toast-1d12a232.js";const V={class:"history-host"},x={class:"form"},D={class:"content"},I=["onClick"],T=g({__name:"HistoryHost",setup(F){const t=y({host:"",page:1,size:28}),d=[{prop:"host",label:"域名"},{prop:"count",label:"访问次数",width:300},{prop:"action",label:"操作",width:100,slot:!0}],r=u([]),i=u(0);async function o(a){typeof a=="number"&&(t.page=a);const e=await H(t);r.value=e.data.data,t.page=e.data.current_page,i.value=e.data.total}async function m(a){if(!confirm("确定删除吗?"))return;(await z(a)).status&&B("删除成功","success")&&o()}function _(){t.host="",o()}return o(),(a,e)=>{const f=n("FormInput"),p=n("BtnIcon"),h=n("DataTable"),v=n("Paginate");return w(),b("div",V,[l("div",x,[s(f,{modelValue:t.host,"onUpdate:modelValue":e[0]||(e[0]=c=>t.host=c),class:"full",label:"域名",onKeypress:C(o,["enter"]),onClear:o,clearable:""},null,8,["modelValue","onKeypress"]),s(p,{icon:"search",tooltip:"查询",onClick:o}),s(p,{icon:"clear",onClick:_})]),l("div",D,[s(h,{cols:d,data:r.value},{action:k(({row:c})=>[l("span",{class:"link",onClick:K=>m(c.id)},"删除",8,I)]),_:1},8,["data"]),s(v,{page:t.page,size:t.size,total:i.value,onChange:o},null,8,["page","size","total"])])])}}});export{T as default};
