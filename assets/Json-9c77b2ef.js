import{j as b,h as C,v as c,z as u,C as s,F as g,J as x,u as e,B as a,y as d,A as f,Q as h,K as k,E as B}from"./@vue-562a0746.js";import{b as y}from"./index-19f4d83e.js";import"./pinia-5f9844cc.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-1a8a6996.js";import"./vue-codemirror-559c72df.js";import"./codemirror-ef5f91f8.js";import"./@codemirror-f7e9d6eb.js";import"./@lezer-724c4038.js";import"./crelt-7bb88e1d.js";import"./style-mod-fd510d21.js";import"./w3c-keyname-9fb136d3.js";const J={class:"json has-tabs"},N={class:"tabs"},S=["onBlur","onClick"],E=["onClick"],I={class:"actions"},$={class:"input"},O={class:"output"},w={class:"content"},P=b({__name:"Json",setup(K){const t=y(),T=C(()=>r(t.activeTabText));function r(i,o=!1){if(i=i.trim(),!i)return"";try{return JSON.stringify(JSON.parse(i),null,o?0:4)}catch{return"Error: is not valid JSON"}}return(i,o)=>{const _=c("Icon"),p=c("BtnIcon"),m=c("BtnCopy"),v=c("Editor");return d(),u("div",J,[s("nav",N,[(d(!0),u(g,null,x(e(t).tabs,n=>(d(),u("div",{class:f(["item",{active:n.id===e(t).activeTabId}]),key:n.id},[s("span",{class:"title",onBlur:l=>e(t).changeTabName(n.id,n.title,l.target.innerText),onKeydown:o[0]||(o[0]=h(l=>l.target.blur(),["enter"])),onClick:l=>e(t).changeTab(n.id),contenteditable:""},k(n.title),41,S),s("span",{class:"close",tooltip:"关闭标签",onClick:B(l=>e(t).removeTab(n.id),["stop"])},"×",8,E)],2))),128)),s("button",{class:"item",onClick:o[1]||(o[1]=(...n)=>e(t).addTab&&e(t).addTab(...n)),tooltip:"添加标签"},[a(_,{name:"plus"})]),a(p,{class:"item",icon:"clear",tooltip:"清空标签",onClick:e(t).clearTab},null,8,["onClick"])]),s("div",I,[s("div",$,[a(m,{text:e(t).activeTabText},null,8,["text"]),a(p,{class:"item",icon:"clear",onClick:o[2]||(o[2]=n=>e(t).changeTabText(""))}),s("button",{onClick:o[3]||(o[3]=n=>e(t).changeTabText(r(e(t).activeTabText)))},"格式化"),s("button",{onClick:o[4]||(o[4]=n=>e(t).changeTabText(r(e(t).activeTabText,!0)))},"压缩")]),s("div",O,[a(m,{text:r(e(t).activeTabText)},null,8,["text"])])]),s("div",w,[a(v,{class:"input","model-value":e(t).activeTabText,language:"json",placeholder:"输入 JSON 数据",onChange:e(t).changeTabText,autofocus:""},null,8,["model-value","onChange"]),a(v,{class:"output","model-value":T.value,language:"json",disabled:""},null,8,["model-value"])])])}}});export{P as default};
