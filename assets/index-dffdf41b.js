import{j as v,l as R,q as u,v as k,x as w,y as m,z as _,h as B,A as I,u as E,r as x,B as y,C as A,F as V,D as $,E as N,T as F,G as q,H,I as j,J,K}from"./@vue-bc8ac499.js";import{d as C,c as U}from"./pinia-e2ddd066.js";import{c as z,a as W}from"./vue-router-1019b0f4.js";import"./vue-demi-71ba0ef2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const G=C("darkMode",{state:()=>({darkModeOn:!1}),actions:{async setDarkModeOn(e){return this.darkModeOn=e,this.darkModeOn}}}),Q="modulepreload",X=function(e){return"/"+e},O={},h=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=X(a),a in O)return;O[a]=!0;const i=a.endsWith(".css"),b=i?'[rel="stylesheet"]':"";if(!!r)for(let l=o.length-1;l>=0;l--){const s=o[l];if(s.href===a&&(!i||s.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${b}`))return;const p=document.createElement("link");if(p.rel=i?"stylesheet":Q,i||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),i)return new Promise((l,s)=>{p.addEventListener("load",l),p.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())},Y=[{name:"format",meta:{title:"代码格式"},children:[{name:"json",meta:{title:"JSON",desc:"格式化 / 压缩"},component:()=>h(()=>import("./Json-c126f29e.js"),["assets/Json-c126f29e.js","assets/@vue-bc8ac499.js","assets/useAutofocus-59b25a0f.js","assets/pinia-e2ddd066.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-1019b0f4.js"])}]},{name:"crypto",meta:{title:"编码加密"},children:[{name:"hash",meta:{title:"Hash",desc:"MD5 / SHA ..."},component:()=>h(()=>import("./Hash-ebb9cde0.js"),["assets/Hash-ebb9cde0.js","assets/plugin-vueexport-helper-c27b6911.js","assets/@vue-bc8ac499.js"])},{name:"base64",meta:{title:"Base64",desc:"编码 / 解码"},component:()=>h(()=>import("./Base64-fee4f883.js"),["assets/Base64-fee4f883.js","assets/plugin-vueexport-helper-c27b6911.js","assets/@vue-bc8ac499.js"])}]},{name:"generator",meta:{title:"生成器"},children:[{name:"snippets",meta:{title:"Snippets",desc:"代码片段"},component:()=>h(()=>import("./Snippets-0e134529.js"),["assets/Snippets-0e134529.js","assets/@vue-bc8ac499.js","assets/useAutofocus-59b25a0f.js"])}]}];let D="";const Z=Y.reduce((e,t,n)=>(t.children=t.children.map((r,o)=>(r.path=`/toolbox/${r.name}`,n===0&&o===0&&(D=r.path),r)),[...e,...t.children]),[]),ee=[{path:"/",component:()=>h(()=>import("./Home-4cf01289.js"),["assets/Home-4cf01289.js","assets/@vue-bc8ac499.js","assets/Footer.vuevuetypescriptsetuptruelang-c8c463b3.js","assets/pinia-e2ddd066.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-1019b0f4.js"])},{path:"/toolbox",component:()=>h(()=>import("./Layout-b1069234.js"),["assets/Layout-b1069234.js","assets/@vue-bc8ac499.js","assets/Footer.vuevuetypescriptsetuptruelang-c8c463b3.js","assets/pinia-e2ddd066.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-1019b0f4.js"]),children:Z,redirect:D}],S=z({history:W(),routes:ee}),ye=C("tab",{state:()=>({tabs:[],active:{path:"",name:""}}),actions:{gotoTab(e){e.path!=="/"&&e.path!==this.active.path&&(this.tabs.every(t=>t.path!==e.path)&&this.tabs.push(e),this.active=e,S.push(e.path))},removeTab(e){if(this.tabs.length===1)return;let t=this.tabs.findIndex(n=>n.path===e);this.tabs.splice(t,1),this.active.path===e&&(t===this.tabs.length&&t--,this.active=this.tabs[t],S.push(this.active.path))},clearTab(){this.tabs=this.tabs.filter(e=>e.path===this.active.path)}}}),g={id:Date.now(),title:"Tab",text:""},ge=C("json",{state:()=>({tabs:[{...g}],activeTabId:g.id}),getters:{activeTabText:e=>e.tabs.find(t=>t.id===e.activeTabId).text},actions:{changeTabName(e,t,n){t!==n&&(this.tabs.find(r=>r.id===e).title=n)},addTab(e){const t={...g};t.id=Date.now(),this.tabs.push(t),this.activeTabId=t.id,e&&e.focus()},changeTab(e){this.activeTabId!==e&&(this.activeTabId=e)},changeTabText(e){const t=this.tabs.find(n=>n.id===this.activeTabId);t.text=e},removeTab(e){const t=this.tabs.findIndex(n=>n.id===e);if(this.tabs.splice(t,1),this.tabs.length===0&&this.addTab(),this.activeTabId===e){const n=Math.min(t+1,this.tabs.length-1);this.activeTabId=this.tabs[n].id}},clearTab(e){const t={...g};this.tabs=[t],this.activeTabId=t.id,e&&e.focus()}}}),te=v({__name:"App",setup(e){function t(n){const r=G();r.setDarkModeOn(n.matches);const o=document.querySelector("link[rel=icon]");o.href=r.darkModeOn?"/avatar-dark.svg":"/avatar.svg"}return R(()=>{const n=window.matchMedia("(prefers-color-scheme: dark");t(n),n.addEventListener("change",t)}),(n,r)=>{const o=w("router-view");return u(),k(o)}}}),L=v({__name:"Icon",props:{name:{type:String,require:!0}},setup(e){const t=e;return(n,r)=>(u(),m("i",{class:_(["iconfont",`icon-${t.name}`])},null,2))}}),ne=["tooltip"],P=v({__name:"BtnIcon",props:{icon:{type:String,required:!0},tooltip:{type:String,default:""}},setup(e){const t=e,n=new Map([["copy","复制"],["clear","清空"]]),r=B(()=>n.get(t.icon)??"");return(o,a)=>(u(),m("button",{tooltip:e.tooltip||E(r)},[I(L,{name:e.icon},null,8,["name"])],8,ne))}});function oe(e){return navigator.clipboard?navigator.clipboard.writeText(e):new Promise(t=>{const n=document.createElement("textarea");document.body.appendChild(n),n.style.position="fixed",n.style.clip="rect(0 0 0 0)",n.style.top="10px",n.value=e,n.select(),document.execCommand("copy",!0),document.body.removeChild(n),t(!0)})}const se=v({__name:"BtnCopy",props:{text:{type:String,default:""}},setup(e){return(t,n)=>(u(),k(P,{icon:"copy",onClick:n[0]||(n[0]=r=>E(oe)(e.text))}))}}),ae=["tooltip"],re=["type","placeholder","readonly","value"],ie=v({__name:"FormInput",props:{type:String,placeholder:String,label:String,readonly:Boolean,clearable:Boolean,modelValue:String},emits:["update:modelValue"],setup(e,{emit:t}){const n=x();function r(a){const i=a.target;t("update:modelValue",i.value)}function o(){t("update:modelValue","")}return(a,i)=>{const b=w("Icon");return u(),m("div",{class:"form-item",onClick:i[1]||(i[1]=()=>n.value.focus())},[y("div",{class:"prefix",tooltip:e.label},[I(b,{name:"pencil"})],8,ae),y("input",{ref_key:"inputRef",ref:n,type:e.type,placeholder:e.placeholder,readonly:e.readonly,value:e.modelValue,onInput:i[0]||(i[0]=f=>r(f))},null,40,re),e.clearable?(u(),m("span",{key:0,class:"close",onClick:o},"×")):A("",!0)])}}}),le=["tooltip"],ce=["placeholder","value"],ue=["onClick"],de=v({__name:"FormSelect",props:{placeholder:{type:String,default:"请选择"},label:String,clearable:Boolean,modelValue:String,list:{type:Array,default:[{label:"",value:""}]}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,r=x(),o=x(!1),a=x(!1),i=B(()=>{var l;return((l=n.list.find(s=>s.value===n.modelValue))==null?void 0:l.label)??""});function b(l){const s=l.target,d=n.list.find(c=>c.label===s.value);t("update:modelValue",d.value)}function f(l){t("update:modelValue",l),t("change",l)}function p(l){const s=n.list.findIndex(d=>d.value===n.modelValue)??0;if(l.key==="Enter")o.value=!1;else if(l.key==="ArrowDown"){const d=s>=n.list.length-1?0:s+1;f(n.list[d].value)}else if(l.key==="ArrowUp"){const d=s<=0?n.list.length-1:s-1;f(n.list[d].value)}}return(l,s)=>{const d=w("Icon");return u(),m("div",{class:"form-item",onClick:s[7]||(s[7]=(...c)=>r.value.focus&&r.value.focus(...c)),onMouseover:s[8]||(s[8]=c=>a.value=!0),onMouseleave:s[9]||(s[9]=c=>a.value=!1)},[y("div",{class:"prefix",tooltip:e.label},[I(d,{name:"pencil"})],8,le),y("input",{ref_key:"inputRef",ref:r,placeholder:e.placeholder,value:E(i),onFocus:s[0]||(s[0]=c=>o.value=!0),onBlur:s[1]||(s[1]=c=>o.value=!1),onInput:s[2]||(s[2]=c=>b(c)),onKeydown:s[3]||(s[3]=c=>p(c)),readonly:""},null,40,ce),e.clearable?(u(),m(V,{key:0},[a.value?(u(),m("span",{key:0,class:"close",onClick:s[4]||(s[4]=$(c=>t("update:modelValue",""),["stop"]))},"×")):(u(),k(d,{key:1,class:_(["collapse",{open:o.value}]),name:"arrow-down"},null,8,["class"]))],64)):(u(),k(d,{key:1,class:_(["collapse",{open:o.value}]),name:"arrow-down"},null,8,["class"])),I(F,{name:"slide-fade"},{default:N(()=>[q(y("div",{class:"select-list",onTest:f,onClick:s[5]||(s[5]=c=>c.stopPropagation()),onMouseover:s[6]||(s[6]=$(c=>a.value=!1,["stop"]))},[(u(!0),m(V,null,j(e.list,({label:c,value:T})=>(u(),m("div",{key:T,class:_(["select-option",{selected:T===e.modelValue}]),onClick:me=>f(T)},J(c),11,ue))),128))],544),[[H,o.value]])]),_:1})],32)}}}),M={Icon:L,BtnIcon:P,BtnCopy:se,FormInput:ie,FormSelect:de},pe={install(e){for(const t in M)e.component(t,M[t])}};K(te).use(pe).use(U()).use(S).mount("#app");export{G as a,ge as b,S as r,Y as t,ye as u};
