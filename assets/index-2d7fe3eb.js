import{j as b,l as R,q as u,v as k,x as w,y as m,z as x,h as B,A as T,u as E,r as _,B as y,C as A,F as C,D as V,E as N,T as F,G as q,H,I as j,J,K}from"./@vue-bc8ac499.js";import{d as $,c as U}from"./pinia-e2ddd066.js";import{c as z,a as W}from"./vue-router-1019b0f4.js";import"./vue-demi-71ba0ef2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const G=$("darkMode",{state:()=>({darkModeOn:!1}),actions:{async setDarkModeOn(e){return this.darkModeOn=e,this.darkModeOn}}}),Q="modulepreload",X=function(e){return"/"+e},O={},v=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=X(o),o in O)return;O[o]=!0;const c=o.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let i=s.length-1;i>=0;i--){const a=s[i];if(a.href===o&&(!c||a.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Q,c||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),c)return new Promise((i,a)=>{d.addEventListener("load",i),d.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())},Y=[{name:"format",meta:{title:"代码格式"},children:[{name:"json",meta:{title:"JSON",desc:"格式化 / 压缩"},component:()=>v(()=>import("./Json-f7e1beba.js"),["assets/Json-f7e1beba.js","assets/@vue-bc8ac499.js","assets/useAutofocus-59b25a0f.js","assets/pinia-e2ddd066.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-1019b0f4.js"])}]},{name:"crypto",meta:{title:"编码加密"},children:[{name:"hash",meta:{title:"Hash",desc:"MD5 / SHA ..."},component:()=>v(()=>import("./Hash-ebb9cde0.js"),["assets/Hash-ebb9cde0.js","assets/plugin-vueexport-helper-c27b6911.js","assets/@vue-bc8ac499.js"])},{name:"base64",meta:{title:"Base64",desc:"编码 / 解码"},component:()=>v(()=>import("./Base64-fee4f883.js"),["assets/Base64-fee4f883.js","assets/plugin-vueexport-helper-c27b6911.js","assets/@vue-bc8ac499.js"])}]},{name:"generator",meta:{title:"生成器"},children:[{name:"snippets",meta:{title:"Snippets",desc:"代码片段"},component:()=>v(()=>import("./Snippets-0e134529.js"),["assets/Snippets-0e134529.js","assets/@vue-bc8ac499.js","assets/useAutofocus-59b25a0f.js"])}]}];let D="";const Z=Y.reduce((e,t,n)=>(t.children=t.children.map((r,s)=>(r.path=`/toolbox/${r.name}`,n===0&&s===0&&(D=r.path),r)),[...e,...t.children]),[]),ee=[{path:"/",component:()=>v(()=>import("./Home-e149c9ab.js"),["assets/Home-e149c9ab.js","assets/@vue-bc8ac499.js","assets/Footer.vuevuetypescriptsetuptruelang-c8c463b3.js","assets/pinia-e2ddd066.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-1019b0f4.js"])},{path:"/toolbox",component:()=>v(()=>import("./Layout-0d6c31b0.js"),["assets/Layout-0d6c31b0.js","assets/@vue-bc8ac499.js","assets/Footer.vuevuetypescriptsetuptruelang-c8c463b3.js","assets/pinia-e2ddd066.js","assets/vue-demi-71ba0ef2.js","assets/vue-router-1019b0f4.js"]),children:Z,redirect:D}],S=z({history:W(),routes:ee}),ye=$("tab",{state:()=>({tabs:[],active:{path:"",name:""}}),actions:{gotoTab(e){e.path!=="/"&&e.path!==this.active.path&&(this.tabs.every(t=>t.path!==e.path)&&this.tabs.push(e),this.active=e,S.push(e.path))},removeTab(e){if(this.tabs.length===1)return;let t=this.tabs.findIndex(n=>n.path===e);this.tabs.splice(t,1),this.active.path===e&&(t===this.tabs.length&&t--,this.active=this.tabs[t],S.push(this.active.path))},clearTab(){this.tabs=this.tabs.filter(e=>e.path===this.active.path)}}}),g={id:Date.now(),title:"Tab",text:""},ge=$("json",{state:()=>({tabs:[{...g}],activeTabId:g.id}),getters:{activeTabText:e=>e.tabs.find(t=>t.id===e.activeTabId).text},actions:{changeTabName(e,t,n){t!==n&&(this.tabs.find(r=>r.id===e).title=n)},addTab(e){const t={...g};t.id=Date.now(),this.tabs.push(t),this.activeTabId=t.id,e&&e.focus()},changeTab(e){this.activeTabId!==e&&(this.activeTabId=e)},changeTabText(e){const t=this.tabs.find(n=>n.id===this.activeTabId);t.text=e},removeTab(e){const t=this.tabs.findIndex(n=>n.id===e);if(this.tabs.splice(t,1),this.tabs.length===0&&this.addTab(),this.activeTabId===e){const n=Math.min(t+1,this.tabs.length-1);this.activeTabId=this.tabs[n].id}},clearTab(e){const t={...g};this.tabs=[t],this.activeTabId=t.id,e&&e.focus()}}}),te=b({__name:"App",setup(e){function t(n){const r=G();r.setDarkModeOn(n.matches);const s=document.querySelector("link[rel=icon]");s.href=r.darkModeOn?"/avatar-dark.svg":"/avatar.svg"}return R(()=>{const n=window.matchMedia("(prefers-color-scheme: dark");t(n),n.addEventListener("change",t)}),(n,r)=>{const s=w("router-view");return u(),k(s)}}}),L=b({__name:"Icon",props:{name:{type:String,require:!0}},setup(e){const t=e;return(n,r)=>(u(),m("i",{class:x(["iconfont",`icon-${t.name}`])},null,2))}}),ne=["tooltip"],P=b({__name:"BtnIcon",props:{icon:{type:String,required:!0},tooltip:{type:String,default:""}},setup(e){const t=e,n=new Map([["copy","复制"],["clear","清空"]]),r=B(()=>n.get(t.icon)??"");return(s,o)=>(u(),m("button",{tooltip:e.tooltip||E(r)},[T(L,{name:e.icon},null,8,["name"])],8,ne))}});function oe(e){return navigator.clipboard?navigator.clipboard.writeText(e):new Promise(t=>{const n=document.createElement("textarea");document.body.appendChild(n),n.style.position="fixed",n.style.clip="rect(0 0 0 0)",n.style.top="10px",n.value=e,n.select(),document.execCommand("copy",!0),document.body.removeChild(n),t(!0)})}const se=b({__name:"BtnCopy",props:{text:{type:String,default:""}},setup(e){return(t,n)=>(u(),k(P,{icon:"copy",onClick:n[0]||(n[0]=r=>E(oe)(e.text))}))}}),ae=["tooltip"],re=["type","placeholder","readonly","value"],ie=b({__name:"FormInput",props:{type:String,placeholder:String,label:String,readonly:Boolean,clearable:Boolean,modelValue:String},emits:["update:modelValue"],setup(e,{emit:t}){const n=_();function r(s){const o=s.target;t("update:modelValue",o.value)}return(s,o)=>{const c=w("Icon");return u(),m("div",{class:"form-item",onClick:o[2]||(o[2]=(...f)=>{var h,d;return((h=n.value)==null?void 0:h.focus)&&((d=n.value)==null?void 0:d.focus(...f))})},[y("div",{class:"prefix",tooltip:e.label},[T(c,{name:"pencil"})],8,ae),y("input",{ref_key:"inputRef",ref:n,type:e.type,placeholder:e.placeholder,readonly:e.readonly,value:e.modelValue,onInput:o[0]||(o[0]=f=>r(f))},null,40,re),e.clearable?(u(),m("span",{key:0,class:"close",onClick:o[1]||(o[1]=f=>t("update:modelValue",""))},"×")):A("",!0)])}}}),le=["tooltip"],ce=["placeholder","value"],ue=["onClick"],de=b({__name:"FormSelect",props:{placeholder:{type:String,default:"请选择"},label:String,clearable:Boolean,modelValue:String,list:{type:Array,default:[{label:"",value:""}]}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,r=_(),s=_(!1),o=_(!1),c=B(()=>{var i;return((i=n.list.find(a=>a.value===n.modelValue))==null?void 0:i.label)??""});function f(i){const a=i.target,p=n.list.find(l=>l.label===a.value);t("update:modelValue",p.value)}function h(i){t("update:modelValue",i),t("change",i)}function d(i){const a=n.list.findIndex(p=>p.value===n.modelValue)??0;if(i.key==="Enter")s.value=!1;else if(i.key==="ArrowDown"){const p=a>=n.list.length-1?0:a+1;h(n.list[p].value)}else if(i.key==="ArrowUp"){const p=a<=0?n.list.length-1:a-1;h(n.list[p].value)}}return(i,a)=>{const p=w("Icon");return u(),m("div",{class:"form-item",onClick:a[7]||(a[7]=(...l)=>r.value.focus&&r.value.focus(...l)),onMouseover:a[8]||(a[8]=l=>o.value=!0),onMouseleave:a[9]||(a[9]=l=>o.value=!1)},[y("div",{class:"prefix",tooltip:e.label},[T(p,{name:"pencil"})],8,le),y("input",{ref_key:"inputRef",ref:r,placeholder:e.placeholder,value:E(c),onFocus:a[0]||(a[0]=l=>s.value=!0),onBlur:a[1]||(a[1]=l=>s.value=!1),onInput:a[2]||(a[2]=l=>f(l)),onKeydown:a[3]||(a[3]=l=>d(l)),readonly:""},null,40,ce),e.clearable?(u(),m(C,{key:0},[o.value?(u(),m("span",{key:0,class:"close",onClick:a[4]||(a[4]=V(l=>t("update:modelValue",""),["stop"]))},"×")):(u(),k(p,{key:1,class:x(["collapse",{open:s.value}]),name:"arrow-down"},null,8,["class"]))],64)):(u(),k(p,{key:1,class:x(["collapse",{open:s.value}]),name:"arrow-down"},null,8,["class"])),T(F,{name:"slide-fade"},{default:N(()=>[q(y("div",{class:"select-list",onTest:h,onClick:a[5]||(a[5]=l=>l.stopPropagation()),onMouseover:a[6]||(a[6]=V(l=>o.value=!1,["stop"]))},[(u(!0),m(C,null,j(e.list,({label:l,value:I})=>(u(),m("div",{key:I,class:x(["select-option",{selected:I===e.modelValue}]),onClick:me=>h(I)},J(l),11,ue))),128))],544),[[H,s.value]])]),_:1})],32)}}}),M={Icon:L,BtnIcon:P,BtnCopy:se,FormInput:ie,FormSelect:de},pe={install(e){for(const t in M)e.component(t,M[t])}};K(te).use(pe).use(U()).use(S).mount("#app");export{G as a,ge as b,S as r,Y as t,ye as u};
