import{j as g,r as B,a as F,h as f,q as d,y as u,B as a,A as s,u as b,G as j,L as C,D as H,F as S,I as k,x as r}from"./@vue-bc8ac499.js";import{u as I,j as L}from"./useAutofocus-59b25a0f.js";const M={class:"snippets"},U={class:"form"},D={class:"actions"},P={class:"input"},T={class:"output"},N={class:"content"},$={class:"output"},w=["innerHTML"],q=g({__name:"Snippets",setup(A){const x=I(),v=B([{label:"HTML",value:"html"},{label:"JS",value:"js"},{label:"PHP",value:"php"}]),e=F({name:"",prefix:"",desc:"",body:"",scope:""}),m=f(()=>{const p=e.body.split(`
`).map(l=>l.replace(/\$/g,"\\$")),t={[e.name]:{scope:e.scope,prefix:e.prefix,description:e.desc,body:p.length===1?p.pop():p}};return JSON.stringify(t,null,4)}),_=f(()=>L(m.value));function V(p){var i;let t=((i=p.clipboardData)==null?void 0:i.getData("text"))??"",l=0;const c=t.split(/\r\n|\r|\n/g).map((n,o)=>{if(o===0){const[y]=n.match(/^ +/)||[""];l=y.length}return n.length>=l?n.slice(l):n});e.body=c.join(`
`)}function h(){e.name="",e.prefix="",e.desc="",e.scope=""}return(p,t)=>{const l=r("FormInput"),c=r("FormSelect"),i=r("BtnIcon"),n=r("BtnCopy");return d(),u("div",M,[a("div",U,[s(l,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o),label:"name",placeholder:"name",clearable:""},null,8,["modelValue"]),s(c,{modelValue:e.scope,"onUpdate:modelValue":t[1]||(t[1]=o=>e.scope=o),list:v.value,label:"scope",placeholder:"scope",clearable:""},null,8,["modelValue","list"]),s(l,{modelValue:e.prefix,"onUpdate:modelValue":t[2]||(t[2]=o=>e.prefix=o),label:"prefix",placeholder:"prefix",clearable:""},null,8,["modelValue"]),s(l,{modelValue:e.desc,"onUpdate:modelValue":t[3]||(t[3]=o=>e.desc=o),label:"desc",placeholder:"desc",clearable:""},null,8,["modelValue"]),s(i,{class:"item",icon:"clear",onClick:h})]),a("div",D,[a("div",P,[s(n,{text:e.body},null,8,["text"]),s(i,{class:"item",icon:"clear",onClick:t[4]||(t[4]=o=>e.body="")})]),a("div",T,[s(n,{text:b(m)},null,8,["text"])])]),a("div",N,[j(a("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>e.body=o),class:"input",ref_key:"inputRef",ref:x,placeholder:"代码片段",onPaste:t[6]||(t[6]=H(o=>V(o),["prevent"]))},null,544),[[C,e.body]]),a("div",$,[(d(!0),u(S,null,k(b(_).split(`
`),o=>(d(),u("div",{class:"code-text",innerHTML:o},null,8,w))),256))])])])}}});export{q as default};
