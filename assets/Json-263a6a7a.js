import{j as b,h as f,q as a,y as l,B as o,F as T,I as m,u as t,A as r,x,z as g,M as C,J as h,D as k}from"./@vue-bc8ac499.js";import{b as y}from"./index-bc663253.js";import{u as J,j as $}from"./useAutofocus-59b25a0f.js";import"./pinia-e2ddd066.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-1019b0f4.js";const B={class:"json has-tabs"},N={class:"tabs"},S=["onBlur","onClick"],I=["onClick"],j={class:"actions"},H={class:"input"},M={class:"output"},w={class:"content"},F=["value"],L={class:"output"},O=["innerHTML"],q=b({__name:"Json",setup(z){const u=J(),e=y();function c(d,n=!1){if(!d)return"";try{return JSON.stringify(JSON.parse(d),null,n?0:4)}catch{return"Error: is not valid JSON"}}const _=f(()=>$(c(e.activeTabText)));return(d,n)=>{const p=x("Icon"),v=x("Copy");return a(),l("div",B,[o("nav",N,[(a(!0),l(T,null,m(t(e).tabs,s=>(a(),l("div",{class:g(["item",{active:s.id===t(e).activeTabId}]),key:s.id},[o("span",{class:"title",onBlur:i=>t(e).changeTabName(s.id,s.title,i.target.innerText),onKeydown:n[0]||(n[0]=C(i=>i.target.blur(),["enter"])),onClick:i=>t(e).changeTab(s.id),contenteditable:""},h(s.title),41,S),o("span",{class:"close",onClick:k(i=>t(e).removeTab(s.id),["stop"]),tooltip:"关闭标签"},"×",8,I)],2))),128)),o("div",{class:"item",onClick:n[1]||(n[1]=s=>t(e).addTab(t(u))),tooltip:"添加标签"},[r(p,{name:"plus"})]),o("div",{class:"item",onClick:n[2]||(n[2]=s=>t(e).clearTab(t(u))),tooltip:"清空标签"},[r(p,{name:"clear"})])]),o("div",j,[o("div",H,[r(v,{text:t(e).activeTabText},null,8,["text"]),o("button",{onClick:n[3]||(n[3]=s=>t(e).changeTabText("")),tooltip:"清空"},[r(p,{name:"clear"})]),o("button",{onClick:n[4]||(n[4]=s=>t(e).changeTabText(c(t(e).activeTabText)))},"格式化"),o("button",{onClick:n[5]||(n[5]=s=>t(e).changeTabText(c(t(e).activeTabText,!0)))},"压缩")]),o("div",M,[r(v,{text:c(t(e).activeTabText)},null,8,["text"])])]),o("div",w,[o("textarea",{class:"input",ref_key:"inputRef",ref:u,value:t(e).activeTabText,onInput:n[6]||(n[6]=s=>t(e).changeTabText(s.target.value))},null,40,F),o("div",L,[(a(!0),l(T,null,m(t(_).split(`
`),s=>(a(),l("div",{class:"code-text",innerHTML:s},null,8,O))),256))])])])}}});export{q as default};
